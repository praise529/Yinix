<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Links!!! ðŸ”— -->
    <link rel="stylesheet" href="../Index.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/bold/style.css" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Randomizer - Yinix</title>
</head>
<body>
    <div class="Tool-Box" id="Randomizer">
        <h2><i class="ph-bold ph-shuffle"></i></h2>

        <h1 id="Random_Number">2</h1><br>

        <label for="Randomizer_Range">Range: <input id="Range_Display" type="number"></label><br><br>
        <input type="range" name="Randomizer_Range" id="Randomizer_Range" 
        max="100" value="10" onchange="Update_Range_Display()" onclick="await Copy()"><br><br><br>

        <button onclick="Randomize()"><i class="ph-bold ph-shuffle"></i></button>
    </div>

    <script>
        var Random_Number = 1;
        const Range_Display = document.getElementById("Range_Display");
        const Random_Number_Element = document.getElementById("Random_Number");
        const Random_Range_Element = document.getElementById("Randomizer_Range");
        const Random_Number_Element_Animations = Random_Number_Element.getAnimations();
        let Random_Range = Random_Range_Element.value;
        
        Range_Display.value = Random_Range_Element.value;
        
        function Update_Random_Number_Element() {
            Random_Number_Element.innerText = Random_Number;
            Random_Number_Element_Animations.forEach(anim => anim.play());
        }
        Range_Display.addEventListener("input", () => {
            Random_Range_Element.value = Range_Display.value;
        });
        
        Random_Range_Element.addEventListener("input", () => {
            Range_Display.value = Random_Range_Element.value;
        });
        async function Copy() {
            try {
                await navigator.clipboard.writeText(Random_Number_Element.innerText);
                alert("Copied to clipboard!");
            } catch (Err) {
                console.error(Err);
            }
        }
        
        Update_Random_Number_Element();
        
        function Randomize() {

            const Random_Range = Number(Random_Range_Element.value);
            Random_Number = Math.floor(Math.random() * Random_Range) + 1;

            Update_Random_Number_Element();
        }

    </script>
</body>
</html>