<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Links!!! ðŸ”— -->
    <link rel="stylesheet" href="../Index.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,500,0,0" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock - Yinix</title>
</head>
<body style="display: flex; height: 100vh; height: 100dvh; align-items: center; justify-content: center;">
    <canvas id="Clock_Canvas" width="400" height="400"></canvas>
    
    <script>
        const Clock_Canvas = document.getElementById("Clock_Canvas");
        const Clock_Canvas_Context = Clock_Canvas.getContext("2d");
        let Clock_Radius = Clock_Canvas.height / 2;
        Clock_Canvas_Context.translate(Clock_Radius, Clock_Radius);
        Clock_Radius = Clock_Radius  *  0.90
        Make_Clock();

        setInterval(Make_Clock, 1000);
        
        function Make_Clock() {
            Make_Clock_Face(Clock_Canvas_Context, Clock_Radius);
            Make_Clock_Numbers(Clock_Canvas_Context, Clock_Radius);
            Make_Clock_Time(Clock_Canvas_Context, Clock_Radius);
        }

        function Make_Clock_Face(Clock_Canvas_Context, Clock_Radius) {
          const Gradient = Clock_Canvas_Context.createRadialGradient(0, 0 ,Clock_Radius  *  0.95, 0, 0, Clock_Radius  *  1.05);
          Gradient.addColorStop(0, '#6e8891');
          Gradient.addColorStop(1, '#6e8891');
        
          Clock_Canvas_Context.beginPath();
          Clock_Canvas_Context.arc(0, 0, Clock_Radius, 0, 2  *  Math.PI);
          Clock_Canvas_Context.fillStyle = 'white';
          Clock_Canvas_Context.fill();
        
          Clock_Canvas_Context.strokeStyle = Gradient;
          Clock_Canvas_Context.lineWidth = Clock_Radius * 0.05;
          Clock_Canvas_Context.stroke();
        
          Clock_Canvas_Context.beginPath();
          Clock_Canvas_Context.arc(0, 0, Clock_Radius  *  0.05, 0, 2  *  Math.PI);
          Clock_Canvas_Context.fillStyle = '#6e8891';
          Clock_Canvas_Context.fill();
        }

        function Make_Clock_Numbers(Clock_Canvas_Context, Radius) {
            Clock_Canvas_Context.font = Radius  *  0.10 + "px fredoka";
            Clock_Canvas_Context.textBaseline = "middle";
            Clock_Canvas_Context.textAlign = "center";
            for(let num = 1; num < 13; num++){
              let ang = num  *  Math.PI / 6;
              Clock_Canvas_Context.rotate(ang);
              Clock_Canvas_Context.translate(0, -Radius  *  0.85);
              Clock_Canvas_Context.rotate(-ang);
              Clock_Canvas_Context.fillText(num.toString(), 0, 0);
              Clock_Canvas_Context.rotate(ang);
              Clock_Canvas_Context.translate(0, Radius  *  0.85);
              Clock_Canvas_Context.rotate(-ang);
            }
        }
    
        function Make_Clock_Time(Clock_Canvas_Context, Clock_Radius) {
            const Right_Now = new Date();
            let Hour = Right_Now.getHours();
            let Minutes = Right_Now.getMinutes();
            let Seconds = Right_Now.getSeconds();

            Hour = Hour%12;
            Hour = (Hour * Math.PI/6)+(Minutes * Math.PI/(6 * 60))+(Seconds * Math.PI/(360 * 60));
            Make_Clock_Hand(Clock_Canvas_Context, Hour, Clock_Radius * 0.5, Clock_Radius * 0.04);

            Minutes = (Minutes * Math.PI/30)+(Seconds * Math.PI/(30 * 60));
            Make_Clock_Hand(Clock_Canvas_Context, Minutes, Clock_Radius * 0.8, Clock_Radius * 0.04);

            Seconds = (Seconds * Math.PI/30);
            Make_Clock_Hand(Clock_Canvas_Context, Seconds, Clock_Radius * 0.9, Clock_Radius * 0.02);
        }

        function Make_Clock_Hand(Clock_Canvas_Context, pos, length, width) {
          Clock_Canvas_Context.beginPath();
          Clock_Canvas_Context.lineWidth = width - 1;
          Clock_Canvas_Context.lineCap = "round";
          Clock_Canvas_Context.moveTo(0,0);
          Clock_Canvas_Context.rotate(pos);
          Clock_Canvas_Context.lineTo(0, -length);
          Clock_Canvas_Context.stroke();
          Clock_Canvas_Context.rotate(-pos);
        }
    </script>
</body>
</html>